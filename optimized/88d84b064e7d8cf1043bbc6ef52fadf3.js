var MiproTheme;(function($){"use strict";MiproTheme={init:function(){this.ShowSearch();this.preloadJs();this.ProgressBar();this.SliderShortcode();this.SliderBrandShortcode();this.MegaMenuSetting();this.MobileNavigation();this.PopupNewletter();this.HeaderSticky();this.ShopSidebar();this.ShopFilters();this.BannerPrlxShortcode();this.Backtotop();this.BackgroundPrlx();this.SizeChartProductImg();this.VideoLightbox();this.CounterUpShortcode();this.AjaxSearch();this.HoverGalleryProduct();this.AccordionProductTab();this.QuickviewAction();this.HideMessagePopup();this.WishlistAction();this.RecentPostWg();this.ProductWgSlider();this.CountdownTimer();this.BlogGallerySlider();this.BlogMasonryShortcode();this.BootrapTooltip();this.WooQuantity();this.ProductImageSetting();this.ProductDefaultSlider();this.OrderByWoo();this.RelatedPostSlider();this.loginSidebar();this.CartSidebar();this.GalleryImagesShortcode();this.ProductShortcode();this.CatMasonryShot();this.MessageAddtoCart();this.StickyProduct();this.LazyLoading();this.ColorSwatches();this.CookieNotice();this.ProductVideo360();this.infiniteProduct();this.GridListShop();this.AjaxShop();this.VariationsProduct();},ShowSearch:function(){$('.kft-header-search .toggle-search').on('click',function(){$(this).parent().find('.search-form-wrapper').toggle();return false;})},ProgressBar:function(){$(window).on('scroll',function(){var scrollTop=$(window).scrollTop();var docHeight=$(document).height();var winHeight=$(window).height();var scrollPercent=(scrollTop)/(docHeight-winHeight);var scrollPercentRounded=Math.round(scrollPercent*100);$(".progress-bar-page").css("width",scrollPercentRounded+"%");});},SliderShortcode:function(){$('.kft-banners-slider,.kft-product-categories-shortcode.layout-slider,.kft-blogs-shortcode.slider,.kft-testimonials-shortcode.layout-slider').each(function(){var element=$(this);var margin=element.data('margin');var columns=element.data('columns');var nav=element.data('nav')===1;var dots=element.data('dots')===1;var autoplay=element.data('autoplay')===1;var slider=element.data('slider')===1;var desksmini=element.data('desksmini');var tabletmini=element.data('tabletmini');var tablet=element.data('tablet');var mobile=element.data('mobile');var mobilesmini=element.data('mobilesmini');if(slider){var _slider_data={loop:false,nav:nav,dots:dots,slideBy:1,navText:false,rtl:$('body').hasClass('rtl'),margin:margin,autoplay:autoplay,autoplayHoverPause:true,autoplayTimeout:5000,responsive:{0:{items:mobilesmini},480:{items:mobile},640:{items:tabletmini},768:{items:tablet},991:{items:desksmini},1199:{items:columns}},onInitialized:function(){element.find('.meta-slider').addClass('loaded').removeClass('loading');}};element.find('.meta-slider > div').addClass('owl-carousel').owlCarousel(_slider_data);}});},SliderBrandShortcode:function(){$('.kft-brand-slider-shortcode').each(function(){var element=$(this);var margin=element.data('margin');var columns=element.data('columns');var nav=element.data('nav')===1;var dots=element.data('dots')===1;var autoplay=element.data('autoplay')===1;var slider=element.data('slider')===1;var desksmini=element.data('desksmini');var tabletmini=element.data('tabletmini');var tablet=element.data('tablet');var mobile=element.data('mobile');var mobilesmini=element.data('mobilesmini');if(slider){var _slider_data={loop:true,nav:nav,dots:dots,slideBy:1,center:true,navText:false,rtl:$('body').hasClass('rtl'),margin:margin,autoplay:autoplay,autoplayHoverPause:true,autoplayTimeout:5000,responsive:{0:{items:mobilesmini},480:{items:mobile},640:{items:tabletmini},768:{items:tablet},991:{items:desksmini},1199:{items:columns}},onInitialized:function(){element.find('.meta-slider').addClass('loaded').removeClass('loading');}};element.find('.meta-slider > div').addClass('owl-carousel').owlCarousel(_slider_data);}});},ProductShortcode:function(){$('.kft-product-shortcode').each(function(){var element=$(this);var atts=element.data('atts');if(atts.is_slider){var nav=parseInt(atts.nav)===1;var dots=parseInt(atts.dots)===1;var autoplay=parseInt(atts.autoplay)===1;var margin=parseInt(atts.margin);var desksmini=parseInt(atts.desksmini);var tabletmini=parseInt(atts.tabletmini);var tablet=parseInt(atts.tablet);var mobile=parseInt(atts.mobile);var mobilesmini=parseInt(atts.mobilesmini);var columns=parseInt(atts.columns);var slider_data={loop:false,nav:nav,navText:false,dots:dots,slideBy:1,rtl:$('body').hasClass('rtl'),margin:margin,autoplay:autoplay,autoplayTimeout:5000,autoHeight:true,responsive:{0:{items:mobilesmini},480:{items:mobile},640:{items:tabletmini},768:{items:tablet},991:{items:desksmini},1199:{items:columns}},onInitialized:function(){element.find('.meta-slider').addClass('loaded').removeClass('loading');}};element.find('.meta-slider > .products').addClass('owl-carousel').owlCarousel(slider_data);}
var is_masonry=false;if(atts.is_masonry&&typeof $.fn.isotope==='function'&&typeof($.fn.imagesLoaded)==='function'){is_masonry=true;}
if(is_masonry){var $container=element.find('.meta-slider > .products');$container.imagesLoaded(function(){$container.isotope();});}
if(atts.show_load_more){element.on('click','a.load-more',function(){var button=$(this);if(button.hasClass('loading')){return false;}
button.addClass('loading');var paged=button.attr('data-paged'),appendProducts=element.find('.meta-slider > .products');$.ajax({type:'POST',timeout:30000,url:mipro_settings.ajax_uri,data:{action:'kft_products_load_items',paged:paged,atts:atts},error:function(xhr,err){},success:function(response){button.removeClass('loading');button.attr('data-paged',++paged);if(response!=0&&response!=''){if(element.hasClass('is-masonry')&&typeof $.fn.isotope==='function'&&typeof $.fn.imagesLoaded==='function'){appendProducts.isotope('insert',$(response));appendProducts.imagesLoaded().progress(function(){appendProducts.isotope('layout');});}else{appendProducts.append(response);}}else{button.parent().remove();}
MiproTheme.BootrapTooltip();MiproTheme.CountdownTimer();MiproTheme.LazyLoading();}});return false;});}});},BlogMasonryShortcode:function(){$('.kft-blogs-shortcode.masonry').each(function(){var element=$(this);if(typeof $.fn.isotope==='function'&&typeof $.fn.imagesLoaded==='function'){var blogMasonry=element.find('.blogs');blogMasonry.imagesLoaded(function(){blogMasonry.isotope();});}});$('.kft-blogs-shortcode.has-load-more').each(function(){var element=$(this);var atts=element.data('atts');element.on('click','a.load-more',function(){var button=$(this);if(button.hasClass('loading')){return false;}
button.addClass('loading');var paged=button.attr('data-paged'),appendBlogs=element.find('.blogs');$.ajax({type:'POST',timeout:30000,url:mipro_settings.ajax_uri,data:{action:'kft_blogs_load_items',paged:paged,atts:atts},error:function(xhr,err){},success:function(response){button.removeClass('loading');button.attr('data-paged',++paged);if(response!=0&&response!=''){if(element.hasClass('masonry')&&typeof $.fn.isotope==='function'&&typeof $.fn.imagesLoaded==='function'){appendBlogs.isotope('insert',$(response));appendBlogs.imagesLoaded().progress(function(){appendBlogs.isotope('layout');});}else{appendBlogs.append(response);var columns=parseInt(atts.columns);element.find('.blogs .item').removeClass('first last');element.find('.blogs .item').each(function(index,ele){if(index%columns===0){$(ele).addClass('first');}
if(index%columns===columns-1){$(ele).addClass('last');}});}}else{button.parent().remove();}
MiproTheme.BlogGallerySlider();MiproTheme.LazyLoading();}});return false;});});},BootrapTooltip:function(){if($(window).width()<=1024){return;}
var wrapper=$('.kft-tooltip, .social-sharing li a, .product-images-wrapper .product-zoom-button a, .product-images-wrapper .product-360-btn a');wrapper.tooltip({animation:false,container:'body',trigger:'hover',placement:'top',title:function(){return $(this).text();}});var productBtn=$('.woocommerce .images div.kft-add-to-cart, .kft-product-buttons .compare, .kft-product-buttons .yith-wcwl-add-to-wishlist a, .kft-product-buttons .quickview');productBtn.tooltip({animation:false,container:'body',trigger:'hover',placement:'left',title:function(){if($(this).find('.added_to_cart').length>0){return $(this).find('.add_to_cart_button').text();}
return $(this).text();}});productBtn.on('click',function(){$(this).tooltip('hide');});$('.mipro-social-button .social-sharing li a').tooltip('destroy');},WooQuantity:function(){$(document).on('click','.plus, .minus',function(){var $qty=$(this).closest('.quantity').find('.qty'),currentVal=parseFloat($qty.val()),max=parseFloat($qty.attr('max')),min=parseFloat($qty.attr('min')),step=$qty.attr('step');if(!currentVal||currentVal===''||currentVal==='NaN'){currentVal=0;}
if(max===''||max==='NaN'){max='';}
if(min===''||min==='NaN'){min=0;}
if(step==='any'||step===''||step===undefined||parseFloat(step)==='NaN'){step=1;}
if($(this).is('.plus')){if(max&&(max==currentVal||currentVal>max)){$qty.val(max);}else{$qty.val(currentVal+parseFloat(step));}}else{if(min&&(min==currentVal||currentVal<min)){$qty.val(min);}else if(currentVal>0){$qty.val(currentVal-parseFloat(step));}}
$qty.trigger('change');});},ProductImageSetting:function(){if($('.single-product').length>0){$('.product-thumbnails').on('click','.thumbnail-image a',function(e){e.preventDefault();});$('.product-images-wrapper > .images').each(function(){var element=$(this);element.addClass('owl-carousel').owlCarousel({loop:false,nav:true,navText:false,dots:false,navSpeed:1000,slideBy:1,rtl:$('body').hasClass('rtl'),margin:0,autoplayTimeout:5000,responsiveRefreshRate:400,responsive:{0:{items:1}},onInitialized:function(){element.addClass('loaded').removeClass('loading');}});});if($('.product-images-wrapper > .images').hasClass('has-product-lightbox')&&typeof PhotoSwipe!='undefined'){ProductLightbox();$('.product-images-wrapper').on('click','.product-zoom-button',function(t){$('.product-images-wrapper > .images').find('.owl-item.active a').trigger('click');t.preventDefault();});}else{$('.product-images-wrapper > .images').on('click','.woocommerce-product-gallery__image a',function(e){e.preventDefault();});}
ProductThumbnailBottom();ProductThumbnailLeft();if($(".has-product-zoom").length){if($(window).width()>1024){var prodZoom=$('.product-images-wrapper > .images.has-product-zoom .woocommerce-product-gallery__image').easyZoom({loadingNotice:'',errorNotice:'',preventClicks:false,});var updateZoom=prodZoom.filter('.product-images-wrapper > .images.has-product-zoom .first').data('easyZoom');$('.variations').on('change','select',function(){updateZoom.teardown();updateZoom._init();});}}
$('form.variations_form').on('show_variation',function(e,variation,purchasable){$('.product-images-wrapper > .images').trigger('to.owl.carousel',0);var image_src=variation.image.src;if(!image_src){return;}
var $thumb=$('.thumbnails .thumbnail-image.first img');if(typeof $.fn.wc_set_variation_attr==='function'){$thumb.wc_set_variation_attr('src',image_src);}});$('form.variations_form').on('click','.reset_variations',function(){var $thumb=$('.thumbnails .thumbnail-image.first img');if(typeof $.fn.wc_reset_variation_attr==='function'){$thumb.wc_reset_variation_attr('src');}});}
function ProductLightbox(){$('.product-images-wrapper > .images').on('click','.woocommerce-product-gallery__image a',function(e){e.preventDefault();var items=PhotoswipeItems();var index=$(this).find('img').attr('data-index');var pswpElement=$('.pswp')[0];var options={index:parseInt(index),shareEl:false,closeOnScroll:false,history:false,hideAnimationDuration:0,showAnimationDuration:0};var gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();});}
function PhotoswipeItems(){var items=[];$('.product-images-wrapper > .images .woocommerce-product-gallery__image a').each(function(index,ele){if($(ele).parents('.owl-item.cloned').length===0){var img=$(ele).find('img');var large_image_src=img.attr('data-large_image');var large_image_w=img.attr('data-large_image_width');var large_image_h=img.attr('data-large_image_height');var item={src:large_image_src,w:large_image_w,h:large_image_h,title:img.attr('title')};items.push(item);}});return items;}
function ProductThumbnailBottom(){var $thumbnail=$('.single-product .thumbnails:not(.vertical-thumbnail) .product-thumbnails');$thumbnail.addClass('owl-carousel').owlCarousel({loop:false,nav:false,navText:false,dots:false,navSpeed:1000,rtl:$('body').hasClass('rtl'),margin:15,autoplay:true,responsive:{0:{items:1},100:{items:2},290:{items:3}},onInitialized:function(){$thumbnail.addClass('loaded').removeClass('loading');}});var $thumbSlider=$thumbnail.owlCarousel(),$imageWrap=$('.product-images-wrapper > .images');$thumbnail.on('click','.owl-item',function(e){var i=$(this).index();$thumbSlider.trigger('to.owl.carousel',i);$imageWrap.trigger('to.owl.carousel',i);});$imageWrap.on('changed.owl.carousel',function(e){var i=e.item.index;$thumbSlider.trigger('to.owl.carousel',i);$thumbnail.find('.is-selected').removeClass('is-selected');$thumbnail.find('.thumbnail-image').eq(i).addClass('is-selected');});$thumbnail.find('.thumbnail-image').eq(0).addClass('is-selected');}
function ProductThumbnailLeft(){var $thumbnail=$('.single-product .thumbnails.vertical-thumbnail .product-thumbnails');if($thumbnail.length>0){var _slider_data={slidesToShow:3,dot:false,lazy:'ondemand',slidesToScroll:1,vertical:true,verticalSwiping:true,infinite:false};$thumbnail.slick(_slider_data);$thumbnail.addClass('loaded').removeClass('loading');}
var $imageWrap=$('.product-images-wrapper > .images');$thumbnail.on('click','.thumbnail-image',function(e){var i=$(this).index();$imageWrap.trigger('to.owl.carousel',i);});$imageWrap.on('changed.owl.carousel',function(e){var i=e.item.index;$thumbnail.on('init',function(){$thumbnail.slick('slickGoTo',i,true);});$thumbnail.find('.is-selected').removeClass('is-selected');$thumbnail.find('.thumbnail-image').eq(i).addClass('is-selected');});$thumbnail.find('.thumbnail-image').eq(0).addClass('is-selected');}
$('.single-product').on('click','a.woocommerce-review-link',function(t){$.scrollTo('.reviews_tab',{duration:300,offset:-150});});},VariationsProduct:function(){$('.variations_form').on('click','.kft-product-attribute .variation-product__option a',function(){var element=$(this);var val=element.closest('.variation-product__option').data('variation');var selector=element.closest('.kft-product-attribute').siblings('select');if(0<selector.length){if(0<selector.find('option[value="'+val+'"]').length){selector.val(val).trigger('change');element.closest('.kft-product-attribute').find('.variation-product__option').removeClass('selected');element.closest('.variation-product__option').addClass('selected');}}
return false;});$('.variations_form').on('click','.reset_variations',function(){$(this).closest('.variations').find('.kft-product-attribute .variation-product__option').removeClass('selected');});},ProductDefaultSlider:function(){$('.single-product .related .products, .single-product .up-sells .products, .woocommerce .cross-sells .products').each(function(){var element=$(this);element.addClass('owl-carousel').owlCarousel({loop:false,nav:false,navText:false,dots:true,slideBy:1,rtl:$('body').hasClass('rtl'),margin:30,autoplayTimeout:5000,responsive:{0:{items:1},667:{items:2},736:{items:2},800:{items:3},1400:{items:4}},onInitialized:function(){element.addClass('loaded').removeClass('loading');}});});},RelatedPostSlider:function(){$('.related-posts.loading .meta-slider > .blogs').each(function(){var element=$(this);element.addClass('owl-carousel').owlCarousel({loop:true,nav:false,navText:false,dots:false,slideBy:1,rtl:$('body').hasClass('rtl'),margin:30,autoplayTimeout:5000,responsive:{0:{items:1},600:{items:1},800:{items:3},1400:{items:4}}});});},BlogGallerySlider:function(){$('.blog-image.gallery').each(function(){var element=$(this);element.addClass('owl-carousel').owlCarousel({items:1,loop:true,nav:false,dots:true,navText:false,slideBy:1,rtl:$('body').hasClass('rtl'),margin:0,autoplay:true,autoplayTimeout:5000,autoHeight:true,responsive:{0:{items:1}},onInitialized:function(){element.addClass('loaded').removeClass('loading');}});});},CountdownTimer:function(){$('.countdown-timer').each(function(){var time=$(this).data('countdown');$(this).countdown(time,function(event){$(this).html(event.strftime(''+'<div class="days"><span class="number">%-D </span><div class="countdown-meta">'+mipro_settings.countdown_days+'</div></div> '+'<div class="hours"><span class="number">%H </span><div class="countdown-meta">'+mipro_settings.countdown_hours+'</div></div> '+'<div class="minutes"><span class="number">%M </span><div class="countdown-meta">'+mipro_settings.countdown_mins+'</div></div> '+'<div class="sec"><span class="number">%S </span><div class="countdown-meta">'+mipro_settings.countdown_sec+'</div></div>'));});});},ProductWgSlider:function(){$('.kft-product-items-widget.slider').each(function(){var element=$(this);var nav=element.data('nav')===1;var autoplay=element.data('auto_play')===1;var columns=element.data('columns');var margin=element.data('margin');element.addClass('owl-carousel').owlCarousel({loop:true,items:1,nav:nav,navText:false,dots:false,slideBy:1,rtl:$('body').hasClass('rtl'),columns:columns,margin:margin,autoplay:autoplay,autoplayTimeout:5000,responsive:{0:{items:columns}},onInitialized:function(){element.addClass('loaded').removeClass('loading');}});});},RecentPostWg:function(){var element=$('.kft_recent_comments.is-slider, .kft_blog_widget.is-slider');var nav=element.data('nav')===1;var autoplay=element.data('autoplay')===1;element.addClass('owl-carousel').owlCarousel({loop:false,items:1,margin:10,nav:nav,navText:false,dots:false,slideBy:1,rtl:$('body').hasClass('rtl'),autoplay:autoplay,autoplayTimeout:5000,responsive:{0:{items:1}},onInitialized:function(){element.addClass('loaded').removeClass('loading');}});},WishlistAction:function(){$('body').on('click','.add_to_wishlist',function(){$(this).parent().addClass('loading');});$('body').on('added_to_wishlist',function(){WishlistButton();$('.yith-wcwl-wishlistaddedbrowse.show, .yith-wcwl-wishlistexistsbrowse.show').closest('.yith-wcwl-add-to-wishlist').removeClass('loading').addClass('added');});var WishlistButton=function(){var wishlist=$('.header-wishlist');if(wishlist.length===0){return;}
wishlist.addClass('loading');$.ajax({type:'POST',url:mipro_settings.ajax_uri,data:{action:'update_tini_wishlist'},success:function(response){var first_icon=wishlist.children('i.fa:first');wishlist.html(response);if(first_icon.length>0){wishlist.prepend(first_icon);}
wishlist.removeClass('loading');}});};$(document).on('click','#yith-wcwl-form table tbody tr td a.remove, #yith-wcwl-form table tbody tr td a.add_to_cart_button',function(){var old_num_product=$('#yith-wcwl-form table tbody tr[id^="yith-wcwl-row"]').length;var count=1;var time_interval=setInterval(function(){count++;var new_num_product=$('#yith-wcwl-form table tbody tr[id^="yith-wcwl-row"]').length;if(old_num_product!=new_num_product||count===20){clearInterval(time_interval);WishlistButton();}},500);});},HideMessagePopup:function(){var wrapper='#yith-wcwl-popup-message';$('body').on('click',wrapper,function(){$(wrapper).addClass('hidden-message');});},QuickviewAction:function(){$(document).on('click','.quickview',function(e){e.preventDefault();var id=$(this).data('id'),prev='',next='',btn=$(this);btn.addClass('loading');$.ajax({url:mipro_settings.ajax_uri,data:{id:id,action:'load_quickshop_content'},type:'POST',success:function(data){$.magnificPopup.open({items:{src:'<div class="quick-view-popup">'+data+'</div>',type:'inline'},tClose:'',tLoading:'',removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass='mfp-move-horizontal'+' quick-view-wrapper woocommerce';},open:function(){$('.variations_form').each(function(){$(this).wc_variation_form().find('.variations select:eq(0)').trigger('change');});$('.variations_form').trigger('wc_variation_form');}},});var element=$('.kft-quickshop-wrapper .images-slider-wrapper');if(element.find('.woocommerce-product-gallery__image').length<=1){return;}
var owl=element.find('.image-items').addClass('owl-carousel').owlCarousel({items:1,loop:true,nav:true,navText:false,dots:true,slideBy:1,rtl:$('body').hasClass('rtl'),margin:0,autoplay:false,autoplayTimeout:5000,onInitialized:function(){element.addClass('loaded').removeClass('loading');}});var imgVariation=$('.kft-quickshop-wrapper .woocommerce-product-gallery__image.first img');$('form.variations_form').on('show_variation',function(e,variation,purchasable){$('.kft-quickshop-wrapper .images-slider-wrapper > .image-items').trigger('to.owl.carousel',0);var image_src=variation.image.src;if(!image_src){return;}
if(typeof $.fn.wc_set_variation_attr==='function'){imgVariation.attr('srcset','').wc_set_variation_attr('src',image_src);}});$('form.variations_form').on('click','.reset_variations',function(){if(typeof $.fn.wc_reset_variation_attr==='function'){imgVariation.wc_reset_variation_attr('src');}});MiproTheme.VariationsProduct();},complete:function(){btn.removeClass('loading');},error:function(){},});});},AccordionProductTab:function(){if($('.woocommerce-tabs.accordion-product-tabs').length>0){$('a.woocommerce-review-link').on('click',function(){var reviews=$('#reviews').parents('.kc_accordion_section');if(!reviews.hasClass('kc-section-active')){reviews.find('>h3.kc_accordion_header a').trigger('click');}
$.scrollTo('.accordion-product-tabs',{duration:300,offset:-150});});}},HoverGalleryProduct:function(){$('body').on('mouseenter mouseleave','.kft_thumb_list_hover',function(){$(this).closest('.kft-product').find('.images a img').attr('src',$(this).attr('data-hover'));});},AjaxSearch:function(){var results,form=$('.kft_search_products'),searchCache=new Array;if('undefined'===typeof mipro_settings.kft_enable_ajax_search||1!=mipro_settings.kft_enable_ajax_search){return;}
$.xhrPool=[];$.xhrPool.abortAll=function(){$(this).each(function(i,jqXHR){jqXHR.abort();$.xhrPool.splice(i,1);});};$('.kft_search_products').append('<div class="kft-live-search-results"></div>');(results=$('.kft-live-search-results')),form.on('keyup','input[type="text"]',function(e){var thisForm=$(this).parents('.searchform'),s=thisForm.find('input[type="text"]').val(),cat='',selectCat=$(this).parents('.kft_search_products').siblings('.select-category');results.hide();if(2>s.length){form.removeClass('loading');return;}
if(0<selectCat.length&&'0'!=selectCat.find(':selected').val()){cat=selectCat.find(':selected').val();}
$.xhrPool.abortAll();if(searchCache[s+cat]!==undefined){results.html(searchCache[s+cat]).show();}else{$.ajax({url:mipro_settings.ajax_uri,method:'POST',cache:true,data:{action:'mipro_ajax_search',security:mipro_settings.kft_ajax_search_nonce,s:s,cat:cat},dataType:'json',beforeSend:function(jqXHR){$.xhrPool.push(jqXHR);form.addClass('loading');results.hide();},complete:function(jqXHR){var i=$.xhrPool.indexOf(jqXHR);if(-1<i){$.xhrPool.splice(i,1);}
form.removeClass('loading');results.on('click','.view-all a',function(e){e.preventDefault();form.find('.search-submit').trigger('click');});},success:function(response){searchCache[s+cat]=response.html;results.html(response.html).show();},error:function(){}});}
$('body').on('click',function(event){if(!$(event.target).is('.search-form-wrapper')&&$(event.target).closest('.search-form-wrapper').length){return;}
results.hide();});});$('.search-form-wrapper').on('change','select.select-category',function(){$.xhrPool.abortAll();$(this).parents('.search-form-wrapper').find('.kft_search_products input[type="text"]').trigger('keyup');});},CounterUpShortcode:function(){$('.kft-counter .number').counterUp({delay:10,time:1000,formatter:function(n){return n.replace(/,/g,'.');}});},VideoLightbox:function(){$('a.kft-video-lightbox').magnificPopup({type:'iframe',preloader:false,fixedContentPos:false});},SizeChartProductImg:function(){$('a.size-guide-btn').magnificPopup({type:'image',closeOnContentClick:false,mainClass:'mfp-img-mobile',image:{verticalFit:true},zoom:{enable:true}});},GalleryImagesShortcode:function(){$('.lightbox.kft-images-shortcode a').parent().magnificPopup({delegate:'a',type:'image',closeBtnInside:false,tLoading:'<div class="loading"></div>',removalDelay:300,gallery:{enabled:true,navigateByImgClick:true,arrowMarkup:'<button class="mfp-arrow mfp-arrow-%dir%" title="%title%"><i class="icon-angle-%dir%"></i></button>',preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',verticalFit:false},zoom:{enabled:true,duration:300}});$('.layout-masonry.kft-images-shortcode').each(function(){if(typeof($.fn.isotope)==='undefined'||typeof($.fn.imagesLoaded)=='undefined'){return;}
var $container=$(this).find('.images-gallery');$container.imagesLoaded(function(){$container.isotope({gutter:0,isOriginLeft:!$('body').hasClass('rtl'),itemSelector:'.images-gallery-item'});});});$('.layout-slider.kft-images-shortcode').each(function(){var element=$(this);var margin=element.data('margin');var columns=element.data('columns');var nav=element.data('nav')===1;var dots=element.data('dots')===1;var autoplay=element.data('autoplay')===1;var desksmini=element.data('desksmini');var tabletmini=element.data('tabletmini');var tablet=element.data('tablet');var mobile=element.data('mobile');var mobilesmini=element.data('mobilesmini');var _slider_data={loop:false,nav:nav,dots:dots,slideBy:1,navText:false,navRewind:false,rtl:$('body').hasClass('rtl'),margin:margin,autoplay:autoplay,autoplayTimeout:5000,responsive:{0:{items:mobilesmini},480:{items:mobile},640:{items:tabletmini},768:{items:tablet},991:{items:desksmini},1199:{items:columns}}};element.find('.images-gallery').addClass('owl-carousel').owlCarousel(_slider_data);});},BackgroundPrlx:function(){if($(window).width()<=1024){return;}
$('.kft-prlx-background').each(function(){$(this).parallax('50%',0.3);});},MegaMenuSetting:function(){var mainMenu=$('.main-navigation').find('ul.menu'),activeMega=mainMenu.find(' > li.menu-item-sized, li.menu-item-full-width');var setOffset=function(li){var dropdown=li.find(' > .sub-menu-dropdown'),siteWrapper=$('#wrapper');var submenuWidth=dropdown.outerWidth(),submenuOffset=dropdown.offset(),windowWidth=$(window).width(),bodyRight=siteWrapper.outerWidth()+siteWrapper.offset().left,viewportWidth=$('body').hasClass('wrapper-layout-boxed')?bodyRight:windowWidth,extraSpace=li.hasClass('menu-item-full-width')?0:10;if(!submenuWidth||!submenuOffset)return;var submenuOffsetRight=windowWidth-submenuOffset.left-submenuWidth;var toLeft=submenuOffsetRight+submenuWidth-viewportWidth;var toRight=submenuOffset.left+submenuWidth-viewportWidth;dropdown.attr('style','');if($('body').hasClass('rtl')&&submenuOffsetRight+submenuWidth>=viewportWidth&&(li.hasClass('menu-item-sized')||li.hasClass('menu-item-full-width'))){dropdown.css({right:-toLeft-extraSpace});}else if(submenuOffset.left+submenuWidth>=viewportWidth&&(li.hasClass('menu-item-sized')||li.hasClass('menu-item-full-width'))){dropdown.css({left:-toRight-extraSpace});}};mainMenu.on('mouseenter mouseleave',' > li.menu-item-sized, li.menu-item-full-width',function(e){setOffset($(this));});activeMega.each(function(){setOffset($(this));});},MobileNavigation:function(){$('.kft-mobile-navigation .menu-item-has-children').append('<span class="sub-menu-icon"></span>');$('.kft-mobile-navigation').on('click','.sub-menu-icon',function(e){e.preventDefault();if($(this).parent().hasClass('active')){$(this).parent().removeClass('active').find('> ul').slideUp(200);$(this).parent().removeClass('active').find('.sub-menu-dropdown .container > ul, .sub-menu-dropdown > ul').slideUp(200);$(this).parent().find('> .icon-sub-menu').removeClass('up-icon');}else{$(this).parent().addClass('active').find('> ul').slideDown(200);$(this).parent().addClass('active').find('.sub-menu-dropdown .container > ul, .sub-menu-dropdown > ul').slideDown(200);$(this).parent().find(' > .icon-sub-menu').addClass('up-icon');}});$('body').on('click','.mobile-nav > a',function(e){e.preventDefault();if($('body').hasClass('has-mobile-menu')){$('body').removeClass('has-mobile-menu');}else{$('body').addClass('has-mobile-menu');}});$('body').on('click touchstart','.kft-close-popup',function(){$('body').removeClass('has-mobile-menu');});},HeaderSticky:function(){if($('body').hasClass('has_sticky_header')){var headerSticky=$('.sticky-header'),headerHeight=$('.site-header').outerHeight()+100;$(window).on('scroll',function(){if($(this).scrollTop()>headerHeight){headerSticky.addClass('is-sticky');}else{headerSticky.removeClass('is-sticky');}});}},PopupNewletter:function(){if(typeof mipro_settings.kft_enable_popup==='undefined'||mipro_settings.kft_enable_popup!=1||$(window).width()<768){return;}
var show=false;if($.cookie('mipro_popup_show')!='show'){if(mipro_settings.kft_popup_event==='scroll'){$(window).on('scroll',function(){if(show){return false;}
if($(document).scrollTop()>=mipro_settings.kft_popup_scroll){showPopup();show=true;}});}else{setTimeout(function(){showPopup();},mipro_settings.kft_popup_timeout);}}
var showPopup=function(){$.magnificPopup.open({items:{src:'.kft-popup'},type:'inline',removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass='mfp-move-horizontal'+' promo-popup-wrapper';},open:function(){},close:function(){$.cookie('mipro_popup_show','show',{expires:7,path:'/'});}}});};},Backtotop:function(){if($('.back-to-top').length>0){$(window).on('scroll',function(){if($(this).scrollTop()>100){$('.back-to-top').addClass('show');}else{$('.back-to-top').removeClass('show');}});$('.back-to-top').on('click','.scroll-button',function(){$('body, html').animate({scrollTop:'0px'},800);return false;});}},BannerPrlxShortcode:function(){$('.has-hover.image-hover-parallax .image').panr({sensitivity:20,scale:false,scaleOnHover:true,scaleTo:1.12,scaleDuration:0.34,panY:true,panX:true,panDuration:0.5,resetPanOnMouseLeave:true});},ShopSidebar:function(){$('body').on('click','.kft-show-sidebar-button',function(e){e.preventDefault();if($('.shop-sidebar').hasClass('show-hidden-sidebar')){hideSidebar();}else{showSidebar();}});$('body').on('click touchstart','.kft-close-popup, .close-sidebar',function(){hideSidebar();});var showSidebar=function(){$('.shop-sidebar').addClass('show-hidden-sidebar');$('body').addClass('show-shop-sidebar');$('.kft-show-sidebar-button').addClass('shown');};var hideSidebar=function(){$('.kft-show-sidebar-button').removeClass('shown');$('.shop-sidebar').removeClass('show-hidden-sidebar');$('body').removeClass('show-shop-sidebar');};},ShopFilters:function(){$('body').on('click','.kft-filters-button',function(e){e.preventDefault();if($('.kft-filters-content').hasClass('show-filter-content')){hideSidebar();}else{showSidebar();}});$('body').on('click touchstart','.kft-close-popup, .close-sidebar',function(){hideSidebar();});var showSidebar=function(){$('body').addClass('show-filter');$('.kft-filters-content').addClass('show-filter-content');$('.kft-filters-button').addClass('shown');};var hideSidebar=function(){$('.kft-filters-button').removeClass('shown');$('.kft-filters-content').removeClass('show-filter-content');$('body').removeClass('show-filter');};},loginSidebar:function(){var body=$('body');$('.login-canvas').on('click','.login',function(e){e.preventDefault();if(isOpened()){hideLogin();}else{setTimeout(function(){showLogin();},10);}});body.on('click touchstart','.kft-close-popup, .login-close',function(){if(isOpened()){hideLogin();}});var hideLogin=function(){body.removeClass('has-login-form');};var showLogin=function(){if($('body').hasClass('woocommerce-account')){return false;}
body.addClass('has-login-form');};var isOpened=function(){return body.hasClass('has-login-form');};},CartSidebar:function(){var body=$('body');$('.cart-canvas').on('click','.kft_cart',function(e){e.preventDefault();if(isOpened()){hideCartSidebar();}else{setTimeout(function(){showCartSidebar();},10);}});body.on('click','.added-to-cart-message',function(e){$('.added-to-cart-message').hide();$('.cart-canvas').find('.kft_cart').trigger('click');e.preventDefault();});body.on('click touchstart','.kft-close-popup, .close-cart',function(){if(isOpened()){hideCartSidebar();}});var hideCartSidebar=function(){body.removeClass('has-cart-sidebar');};var showCartSidebar=function(){if(body.hasClass('woocommerce-checkout')||body.hasClass('woocommerce-cart')){return false;}
body.addClass('has-cart-sidebar');};var isOpened=function(){return body.hasClass('has-cart-sidebar');};},CatMasonryShot:function(){var element=$('.kft-product-categories-shortcode.layout-masonry'),is_masonry=false;if(typeof $.fn.isotope==='function'&&typeof($.fn.imagesLoaded)==='function'){is_masonry=true;}
if(is_masonry){$(window).on('load',function(){var $container=element.find('.meta-slider > .products');$container.imagesLoaded(function(){$container.isotope();});});}},MessageAddtoCart:function(){var src,title,message=false;$('body').on('click','.ajax_add_to_cart',function(){$('.woocommerce-message').remove();if($('body').hasClass('woocommerce-wishlist')){src=$(this).parents('tr').find('img.attachment-woocommerce_thumbnail').attr('src');title=$(this).parents('tr').find('.product-name').html();}else{src=$(this).parents('div.kft-product').find('img.attachment-woocommerce_thumbnail').attr('src');title=$(this).parents('div.kft-product').find('.product-title').html();}
if(typeof src!=='undefined'&&typeof title!=='undefined'){message='<div class="added-to-cart-message"><div class="product_message_wrapper"><div class="product_message_image"><img src="'+src+'" alt></div><div class="product_notification_text">'+title+mipro_settings.cart_message+'</div></div></div>';}});$(document).on('added_to_cart',function(event,data){if(message!==false){$('body').prepend(message);}});},StickyProduct:function(){if($(window).width()<=1024){return;}
var productSticky=$('.mipro_product_sticky');$('.product-single-wrapper').waypoint({handler:function(d){productSticky.toggleClass('shown',d==='down');}});productSticky.on('click','.kft-add-to-cart a:not(".ajax_add_to_cart, .added_to_cart")',function(e){e.preventDefault();$.scrollTo('.product-single-wrapper',{duration:300,offset:-150});});},LazyLoading:function(){$('img.lazyload').Lazy();},ColorSwatches:function(){$('body').on('click','.color-swatch',function(){var src,srcset,imageSrc=$(this).data('src'),imageSrcset=$(this).data('srcset'),product=$(this).parents('.kft-product'),image=product.find('.images > a > img'),currentSrc=image.data('current-src'),currentSrcset=image.data('current-srcset');if(typeof imageSrc==='undefined'){return;}
if(typeof currentSrc==='undefined'){currentSrc=image.data('current-src',image.attr('src'));}
if(typeof currentSrcset==='undefined'){if(typeof image.attr('srcset')==='undefined'){currentSrcset=image.data('current-srcset','');}else{currentSrcset=image.data('current-srcset',image.attr('srcset'));}}
if($(this).hasClass('chosen')){src=currentSrc;srcset=currentSrcset;$(this).removeClass('chosen');}else{$(this).parent().find('.chosen').removeClass('chosen');src=imageSrc;srcset=imageSrcset;$(this).addClass('chosen');}
if(image.attr('src')===src){return;}
image.attr('src',src).attr('srcset',srcset);});},CookieNotice:function(){if(typeof mipro_settings.kft_cookie_notice==='undefined'||mipro_settings.kft_cookie_notice!=1){return;}
if($.cookie('mipro_show_cookie')=='1'){return;}
var body=$('body'),cookiePopup=$('.mipro-cookie-notice'),expiry=parseInt(mipro_settings.kft_cookie_expiry);setTimeout(function(){body.addClass('cookie-show');cookiePopup.on('click','.cookie-accept',function(e){e.preventDefault();body.removeClass('cookie-show');$.cookie('mipro_show_cookie','1',{expires:expiry,path:'/'});});},2000);},ProductVideo360:function(){$('.product-360-btn a').magnificPopup({type:'inline',mainClass:'product-360-wrap',preloader:false,fixedContentPos:false,callbacks:{open:function(){$(window).resize()},},});},infiniteProduct:function(){var container=$('.archive .woocommerce > .products'),paginationNext='.woocommerce-pagination li a.next';if(container.length===0||$(paginationNext).length===0){return;}
if(mipro_settings.kft_shop_pagination==='pagination'){return;}
var loadMore=$('.mipro-products-load-more');var loadProduct=container.infiniteScroll({path:paginationNext,append:'.product',checkLastPage:true,status:'.page-load-status',hideNav:'.woocommerce-pagination',button:'.mipro-products-load-more',history:'push',debug:false,scrollThreshold:400});if(mipro_settings.kft_shop_pagination==='loadmore'){loadMore.removeClass('hidden');loadProduct.infiniteScroll('option',{scrollThreshold:false,loadOnScroll:false});}
if(mipro_settings.kft_shop_pagination==='infinit'){loadProduct.infiniteScroll('option',{scrollThreshold:true,loadOnScroll:true});}
loadProduct.on('request.infiniteScroll',function(event,path){if(loadMore){loadMore.addClass('loading');}});loadProduct.on('append.infiniteScroll',function(event,response,path,items){if(loadMore){loadMore.removeClass('loading');}
$(items).find('img').each(function(index,img){img.outerHTML=img.outerHTML});MiproTheme.BootrapTooltip();MiproTheme.LazyLoading();});},GridListShop:function(){if(typeof $.cookie=='function'){if($.cookie('mipro_grid_list')){$('.shop-content div.products').addClass($.cookie('mipro_grid_list'));$('.grid_list_nav a').removeClass('active');$('.grid_list_nav #'+$.cookie('mipro_grid_list')).addClass('active');}else{$('.shop-content div.products').addClass(mipro_settings.kft_grid_list);$('.grid_list_nav #'+mipro_settings.kft_grid_list).addClass('active');}
$('#grid, #list').on('click',function(){if($(this).hasClass('active')){return;}
var id=$(this).attr('id'),currentClass=(id=='grid')?'list':'grid';$('#grid, #list').removeClass('active');$(this).addClass('active');$.cookie('mipro_grid_list',id,{path:'/'});$('.shop-content div.products').fadeOut(300,function(){$(this).removeClass(currentClass).addClass(id).fadeIn(300);});});$('.grid_list_nav a').on('click',function(e){e.preventDefault();});}},AjaxShop:function(){if(!$('body').hasClass('is_ajax_shop')||typeof($.fn.pjax)=='undefined'){return;}
var that=this,body=$('body'),ajaxLinks='a.kft-per-page-options, .widget_product_categories a, .product-categories-wg a, .product-filter-by-color a, .mipro-active-filters a, .woocommerce-pagination a, .widget_layered_nav_filters a, .widget_layered_nav a, .widget_product_tag_cloud a';var scrollToTop=function(){$.scrollTo('.site-main',{duration:400,offset:-80});};$(document).pjax(ajaxLinks,'.site-main',{timeout:6000,scrollTo:false,fragment:'.site-main'});$(document).on('click','.widget_price_filter form .button',function(){var form=$('.widget_price_filter form');$.pjax({container:'.site-main',fragment:'.site-main',timeout:5000,url:form.attr('action'),data:form.serialize(),scrollTo:false});return false;});$(document).on('pjax:start',function(xhr,options){body.addClass('shop-loading');scrollToTop();});$(document).on('pjax:complete',function(xhr,textStatus,options){that.BootrapTooltip();that.CountdownTimer();that.LazyLoading();that.wooPriceSlider();that.GridListShop();that.infiniteProduct();that.ProductWgSlider();that.OrderByWoo();body.removeClass('shop-loading');body.removeClass('show-filter');body.removeClass('show-shop-sidebar');});$(document).on('pjax:end',function(xhr,textStatus,options){body.removeClass('shop-loading');});$(document).on('pjax:error',function(xhr,textStatus,error,options){console.log('pjax error '+error);});$(document).on('yith-wcan-ajax-loading',function(){if($('.yit-wcan-container').length){scrollToTop();}});},OrderByWoo:function(){$('form.woocommerce-ordering ul.orderby ul a').on('click',function(e){e.preventDefault();if($(this).hasClass('current')){return;}
var $form=$('form.woocommerce-ordering');$(this).closest($form).find('select.orderby').val($(this).attr('data-orderby'));if(!$('body').hasClass('is_ajax_shop')||typeof($.fn.pjax)=='undefined'){$(this).closest('form.woocommerce-ordering').trigger('submit');}else{$form.find('[name="_pjax"]').remove();$.pjax({container:'.site-main',fragment:'.site-main',timeout:5000,data:$form.serialize(),scrollTo:false});}});},wooPriceSlider:function(){if(typeof woocommerce_price_slider_params==='undefined'||!$.fn.slider){return false;}
$('input#min_price, input#max_price').hide();$('.price_slider, .price_label').show();var $products=$('.products'),min_price=$('.price_slider_amount #min_price').data('min'),max_price=$('.price_slider_amount #max_price').data('max'),current_min_price=parseInt(min_price,10),current_max_price=parseInt(max_price,10);if($products.attr('data-min_price')&&$products.attr('data-min_price').length){current_min_price=parseInt($products.attr('data-min_price'),10);}
if($products.attr('data-max_price')&&$products.attr('data-max_price').length){current_max_price=parseInt($products.attr('data-max_price'),10);}
$('.price_slider').slider({range:true,animate:true,min:min_price,max:max_price,values:[current_min_price,current_max_price,],create:function(){$('.price_slider_amount #min_price').val(current_min_price);$('.price_slider_amount #max_price').val(current_max_price);$(document.body).trigger('price_slider_create',[current_min_price,current_max_price,]);},slide:function(event,ui){$('input#min_price').val(ui.values[0]);$('input#max_price').val(ui.values[1]);$(document.body).trigger('price_slider_slide',[ui.values[0],ui.values[1],]);},change:function(event,ui){$(document.body).trigger('price_slider_change',[ui.values[0],ui.values[1],]);},});setTimeout(function(){$(document.body).trigger('price_slider_create',[current_min_price,current_max_price,]);},10);},preloadJs:function(){var loaded=$('.kft-preload-wrapper');if(loaded.length){loaded.css({'opacity':'0','visibility':'hidden',});}
$('body').css('opacity','1');},};$(document).ready(function(){MiproTheme.init();});})(jQuery);
(function($){"use strict";if($(window).width()<1025){return;}
window.settime=function(e){$('.kft-instagram-shortcode').addClass('visit');}
window.gb_throttle=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args);};var callNow=immediate&&!timeout;if(!timeout){timeout=setTimeout(later,wait);}
if(callNow){func.apply(context,args);}};};window.animation_cart=function(action,delay){if(typeof action==="undefined"||action===null){action='';}
if(typeof delay==="undefined"||delay===null){delay=250;}
$('div.products, div.kft-instagram').addClass('js_animated');$('.kc_tab div.products').removeClass('js_animated');if(action=='reset'){$('div.products.js_animated div.product,div.kft-instagram.js_animated .item').removeClass('visible animation_ready animated');}
$('div.products.js_animated div.product:not(.visible),div.kft-instagram.js_animated .item:not(.visible)').each(function(){if($(this).visible("partial")){$(this).addClass('visible');}});$('div.products.js_animated div.product.visible:not(.animation_ready), div.kft-instagram.js_animated .item.visible:not(.animation_ready)').each(function(i){$(this).addClass('animation_ready');$(this).delay(i*delay).queue(function(next){$(this).addClass('animated');next();});});$('div.products.js_animated div.product.visible:first,div.kft-instagram.js_animated .item.visible:first').prevAll().addClass('visible').addClass('animation_ready').addClass('animated');}
$('div.products.js_animated,div.kft-instagram.js_animated').imagesLoaded(function(){animation_cart();});$(window).on('resize',function(){gb_throttle(animation_cart(),300);});$(window).on('scroll',function(){gb_throttle(animation_cart(),900);});$(document).ajaxComplete(function(){$('div.products.js_animated').imagesLoaded(function(){animation_cart();});});})(jQuery);
/*! This file is auto-generated */
!function(n,r){var t,e;"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("underscore",r):(n="undefined"!=typeof globalThis?globalThis:n||self,t=n._,(e=n._=r()).noConflict=function(){return n._=t,e})}(this,function(){var n="1.13.1",r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},e=Array.prototype,o=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,u=e.push,a=e.slice,p=o.toString,t=o.hasOwnProperty,i="undefined"!=typeof ArrayBuffer,f="undefined"!=typeof DataView,c=Array.isArray,l=Object.keys,h=Object.create,v=i&&ArrayBuffer.isView,y=isNaN,d=isFinite,g=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],m=Math.pow(2,53)-1;function j(u,i){return i=null==i?u.length-1:+i,function(){for(var n=Math.max(arguments.length-i,0),r=Array(n),t=0;t<n;t++)r[t]=arguments[t+i];switch(i){case 0:return u.call(this,r);case 1:return u.call(this,arguments[0],r);case 2:return u.call(this,arguments[0],arguments[1],r)}for(var e=Array(i+1),t=0;t<i;t++)e[t]=arguments[t];return e[i]=r,u.apply(this,e)}}function _(n){var r=typeof n;return"function"==r||"object"==r&&!!n}function w(n){return void 0===n}function A(n){return!0===n||!1===n||"[object Boolean]"===p.call(n)}function x(n){var r="[object "+n+"]";return function(n){return p.call(n)===r}}var S=x("String"),O=x("Number"),M=x("Date"),E=x("RegExp"),B=x("Error"),N=x("Symbol"),I=x("ArrayBuffer"),T=x("Function"),k=r.document&&r.document.childNodes,D=T="function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof k?function(n){return"function"==typeof n||!1}:T,R=x("Object"),F=f&&R(new DataView(new ArrayBuffer(8))),V="undefined"!=typeof Map&&R(new Map),P=x("DataView");var q=F?function(n){return null!=n&&D(n.getInt8)&&I(n.buffer)}:P,U=c||x("Array");function W(n,r){return null!=n&&t.call(n,r)}var z=x("Arguments");!function(){z(arguments)||(z=function(n){return W(n,"callee")})}();var L=z;function $(n){return O(n)&&y(n)}function C(n){return function(){return n}}function K(r){return function(n){n=r(n);return"number"==typeof n&&0<=n&&n<=m}}function J(r){return function(n){return null==n?void 0:n[r]}}var G=J("byteLength"),H=K(G),Q=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var X=i?function(n){return v?v(n)&&!q(n):H(n)&&Q.test(p.call(n))}:C(!1),Y=J("length");function Z(n,r){r=function(r){for(var t={},n=r.length,e=0;e<n;++e)t[r[e]]=!0;return{contains:function(n){return t[n]},push:function(n){return t[n]=!0,r.push(n)}}}(r);var t=b.length,e=n.constructor,u=D(e)&&e.prototype||o,i="constructor";for(W(n,i)&&!r.contains(i)&&r.push(i);t--;)(i=b[t])in n&&n[i]!==u[i]&&!r.contains(i)&&r.push(i)}function nn(n){if(!_(n))return[];if(l)return l(n);var r,t=[];for(r in n)W(n,r)&&t.push(r);return g&&Z(n,t),t}function rn(n,r){var t=nn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=t[i];if(r[o]!==u[o]||!(o in u))return!1}return!0}function tn(n){return n instanceof tn?n:this instanceof tn?void(this._wrapped=n):new tn(n)}function en(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,G(n))}tn.VERSION=n,tn.prototype.valueOf=tn.prototype.toJSON=tn.prototype.value=function(){return this._wrapped},tn.prototype.toString=function(){return String(this._wrapped)};var un="[object DataView]";function on(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var u=typeof n;return("function"==u||"object"==u||"object"==typeof r)&&function n(r,t,e,u){r instanceof tn&&(r=r._wrapped);t instanceof tn&&(t=t._wrapped);var i=p.call(r);if(i!==p.call(t))return!1;if(F&&"[object Object]"==i&&q(r)){if(!q(t))return!1;i=un}switch(i){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!=+r?+t!=+t:0==+r?1/+r==1/t:+r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object Symbol]":return s.valueOf.call(r)===s.valueOf.call(t);case"[object ArrayBuffer]":case un:return n(en(r),en(t),e,u)}var o="[object Array]"===i;if(!o&&X(r)){var f=G(r);if(f!==G(t))return!1;if(r.buffer===t.buffer&&r.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof r||"object"!=typeof t)return!1;i=r.constructor,f=t.constructor;if(i!==f&&!(D(i)&&i instanceof i&&D(f)&&f instanceof f)&&"constructor"in r&&"constructor"in t)return!1}e=e||[];u=u||[];var a=e.length;for(;a--;)if(e[a]===r)return u[a]===t;e.push(r);u.push(t);if(o){if((a=r.length)!==t.length)return!1;for(;a--;)if(!on(r[a],t[a],e,u))return!1}else{var c,l=nn(r);if(a=l.length,nn(t).length!==a)return!1;for(;a--;)if(c=l[a],!W(t,c)||!on(r[c],t[c],e,u))return!1}e.pop();u.pop();return!0}(n,r,t,e)}function fn(n){if(!_(n))return[];var r,t=[];for(r in n)t.push(r);return g&&Z(n,t),t}function an(e){var u=Y(e);return function(n){if(null==n)return!1;var r=fn(n);if(Y(r))return!1;for(var t=0;t<u;t++)if(!D(n[e[t]]))return!1;return e!==hn||!D(n[cn])}}var cn="forEach",ln=["clear","delete"],sn=["get","has","set"],pn=ln.concat(cn,sn),hn=ln.concat(sn),vn=["add"].concat(ln,cn,"has"),yn=V?an(pn):x("Map"),dn=V?an(hn):x("WeakMap"),gn=V?an(vn):x("Set"),bn=x("WeakSet");function mn(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function jn(n){for(var r={},t=nn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function _n(n){var r,t=[];for(r in n)D(n[r])&&t.push(r);return t.sort()}function wn(a,c){return function(n){var r=arguments.length;if(c&&(n=Object(n)),r<2||null==n)return n;for(var t=1;t<r;t++)for(var e=arguments[t],u=a(e),i=u.length,o=0;o<i;o++){var f=u[o];c&&void 0!==n[f]||(n[f]=e[f])}return n}}var An=wn(fn),xn=wn(nn),Sn=wn(fn,!0);function On(n){if(!_(n))return{};if(h)return h(n);var r=function(){};r.prototype=n;n=new r;return r.prototype=null,n}function Mn(n){return _(n)?U(n)?n.slice():An({},n):n}function En(n){return U(n)?n:[n]}function Bn(n){return tn.toPath(n)}function Nn(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}function In(n,r,t){r=Nn(n,Bn(r));return w(r)?t:r}function Tn(n){return n}function kn(r){return r=xn({},r),function(n){return rn(n,r)}}function Dn(r){return r=Bn(r),function(n){return Nn(n,r)}}function Rn(u,i,n){if(void 0===i)return u;switch(null==n?3:n){case 1:return function(n){return u.call(i,n)};case 3:return function(n,r,t){return u.call(i,n,r,t)};case 4:return function(n,r,t,e){return u.call(i,n,r,t,e)}}return function(){return u.apply(i,arguments)}}function Fn(n,r,t){return null==n?Tn:D(n)?Rn(n,r,t):(_(n)&&!U(n)?kn:Dn)(n)}function Vn(n,r){return Fn(n,r,1/0)}function Pn(n,r,t){return tn.iteratee!==Vn?tn.iteratee(n,r):Fn(n,r,t)}function qn(){}function Un(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}tn.toPath=En,tn.iteratee=Vn;var Wn=Date.now||function(){return(new Date).getTime()};function zn(r){function t(n){return r[n]}var n="(?:"+nn(r).join("|")+")",e=RegExp(n),u=RegExp(n,"g");return function(n){return e.test(n=null==n?"":""+n)?n.replace(u,t):n}}var Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$n=zn(Ln),Cn=zn(jn(Ln)),Kn=tn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Jn=/(.)^/,Gn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Hn=/\\|'|\r|\n|\u2028|\u2029/g;function Qn(n){return"\\"+Gn[n]}var Xn=/^\s*(\w|\$)+\s*$/;var Yn=0;function Zn(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);t=On(n.prototype),u=n.apply(t,u);return _(u)?u:t}var nr=j(function(u,i){var o=nr.placeholder,f=function(){for(var n=0,r=i.length,t=Array(r),e=0;e<r;e++)t[e]=i[e]===o?arguments[n++]:i[e];for(;n<arguments.length;)t.push(arguments[n++]);return Zn(u,f,this,this,t)};return f});nr.placeholder=tn;var rr=j(function(r,t,e){if(!D(r))throw new TypeError("Bind must be called on a function");var u=j(function(n){return Zn(r,u,t,this,e.concat(n))});return u}),tr=K(Y);function er(n,r,t,e){if(e=e||[],r||0===r){if(r<=0)return e.concat(n)}else r=1/0;for(var u=e.length,i=0,o=Y(n);i<o;i++){var f=n[i];if(tr(f)&&(U(f)||L(f)))if(1<r)er(f,r-1,t,e),u=e.length;else for(var a=0,c=f.length;a<c;)e[u++]=f[a++];else t||(e[u++]=f)}return e}var ur=j(function(n,r){var t=(r=er(r,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=rr(n[e],n)}return n});var ir=j(function(n,r,t){return setTimeout(function(){return n.apply(null,t)},r)}),or=nr(ir,tn,1);function fr(n){return function(){return!n.apply(this,arguments)}}function ar(n,r){var t;return function(){return 0<--n&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}r=nr(ar,2);function cr(n,r,t){r=Pn(r,t);for(var e,u=nn(n),i=0,o=u.length;i<o;i++)if(r(n[e=u[i]],e,n))return e}function lr(i){return function(n,r,t){r=Pn(r,t);for(var e=Y(n),u=0<i?0:e-1;0<=u&&u<e;u+=i)if(r(n[u],u,n))return u;return-1}}var sr=lr(1),k=lr(-1);function pr(n,r,t,e){for(var u=(t=Pn(t,e,1))(r),i=0,o=Y(n);i<o;){var f=Math.floor((i+o)/2);t(n[f])<u?i=f+1:o=f}return i}function hr(i,o,f){return function(n,r,t){var e=0,u=Y(n);if("number"==typeof t)0<i?e=0<=t?t:Math.max(t+u,e):u=0<=t?Math.min(t+1,u):t+u+1;else if(f&&t&&u)return n[t=f(n,r)]===r?t:-1;if(r!=r)return 0<=(t=o(a.call(n,e,u),$))?t+e:-1;for(t=0<i?e:u-1;0<=t&&t<u;t+=i)if(n[t]===r)return t;return-1}}var vr=hr(1,sr,pr),T=hr(-1,k);function yr(n,r,t){t=(tr(n)?sr:cr)(n,r,t);if(void 0!==t&&-1!==t)return n[t]}function dr(n,r,t){if(r=Rn(r,t),tr(n))for(u=0,i=n.length;u<i;u++)r(n[u],u,n);else for(var e=nn(n),u=0,i=e.length;u<i;u++)r(n[e[u]],e[u],n);return n}function gr(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var f=e?e[o]:o;i[o]=r(n[f],f,n)}return i}function br(a){return function(n,r,t,e){var u=3<=arguments.length;return function(n,r,t,e){var u=!tr(n)&&nn(n),i=(u||n).length,o=0<a?0:i-1;for(e||(t=n[u?u[o]:o],o+=a);0<=o&&o<i;o+=a){var f=u?u[o]:o;t=r(t,n[f],f,n)}return t}(n,Rn(r,e,4),t,u)}}f=br(1),R=br(-1);function mr(n,e,r){var u=[];return e=Pn(e,r),dr(n,function(n,r,t){e(n,r,t)&&u.push(n)}),u}function jr(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!r(n[o],o,n))return!1}return!0}function _r(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(r(n[o],o,n))return!0}return!1}function wr(n,r,t,e){return tr(n)||(n=mn(n)),0<=vr(n,r,t="number"!=typeof t||e?0:t)}P=j(function(n,t,e){var u,i;return D(t)?i=t:(t=Bn(t),u=t.slice(0,-1),t=t[t.length-1]),gr(n,function(n){var r=i;if(!r){if(null==(n=u&&u.length?Nn(n,u):n))return;r=n[t]}return null==r?r:r.apply(n,e)})});function Ar(n,r){return gr(n,Dn(r))}function xr(n,e,r){var t,u,i=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof n[0]&&null!=n)for(var f=0,a=(n=tr(n)?n:mn(n)).length;f<a;f++)null!=(t=n[f])&&i<t&&(i=t);else e=Pn(e,r),dr(n,function(n,r,t){u=e(n,r,t),(o<u||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i}function Sr(n,r,t){if(null==r||t)return(n=!tr(n)?mn(n):n)[Un(n.length-1)];var e=(tr(n)?Mn:mn)(n),n=Y(e);r=Math.max(Math.min(r,n),0);for(var u=n-1,i=0;i<r;i++){var o=Un(i,u),f=e[i];e[i]=e[o],e[o]=f}return e.slice(0,r)}function Or(i,r){return function(t,e,n){var u=r?[[],[]]:{};return e=Pn(e,n),dr(t,function(n,r){r=e(n,r,t);i(u,n,r)}),u}}var c=Or(function(n,r,t){W(n,t)?n[t].push(r):n[t]=[r]}),i=Or(function(n,r,t){n[t]=r}),sn=Or(function(n,r,t){W(n,t)?n[t]++:n[t]=1}),ln=Or(function(n,r,t){n[t?0:1].push(r)},!0),Mr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Er(n,r,t){return r in t}var Br=j(function(n,r){var t={},e=r[0];if(null==n)return t;D(e)?(1<r.length&&(e=Rn(e,r[1])),r=fn(n)):(e=Er,r=er(r,!1,!1),n=Object(n));for(var u=0,i=r.length;u<i;u++){var o=r[u],f=n[o];e(f,o,n)&&(t[o]=f)}return t}),pn=j(function(n,t){var r,e=t[0];return D(e)?(e=fr(e),1<t.length&&(r=t[1])):(t=gr(er(t,!1,!1),String),e=function(n,r){return!wr(t,r)}),Br(n,e,r)});function Nr(n,r,t){return a.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Ir(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[0]:Nr(n,n.length-r)}function Tr(n,r,t){return a.call(n,null==r||t?1:r)}var kr=j(function(n,r){return r=er(r,!0,!0),mr(n,function(n){return!wr(r,n)})}),V=j(function(n,r){return kr(n,r)});function Dr(n,r,t,e){A(r)||(e=t,t=r,r=!1),null!=t&&(t=Pn(t,e));for(var u=[],i=[],o=0,f=Y(n);o<f;o++){var a=n[o],c=t?t(a,o,n):a;r&&!t?(o&&i===c||u.push(a),i=c):t?wr(i,c)||(i.push(c),u.push(a)):wr(u,a)||u.push(a)}return u}vn=j(function(n){return Dr(er(n,!0,!0))});function Rr(n){for(var r=n&&xr(n,Y).length||0,t=Array(r),e=0;e<r;e++)t[e]=Ar(n,e);return t}Ln=j(Rr);function Fr(n,r){return n._chain?tn(r).chain():r}function Vr(t){return dr(_n(t),function(n){var r=tn[n]=t[n];tn.prototype[n]=function(){var n=[this._wrapped];return u.apply(n,arguments),Fr(this,r.apply(tn,n))}}),tn}dr(["pop","push","reverse","shift","sort","splice","unshift"],function(r){var t=e[r];tn.prototype[r]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==r&&"splice"!==r||0!==n.length||delete n[0]),Fr(this,n)}}),dr(["concat","join","slice"],function(n){var r=e[n];tn.prototype[n]=function(){var n=this._wrapped;return Fr(this,n=null!=n?r.apply(n,arguments):n)}});Ln=Vr({__proto__:null,VERSION:n,restArguments:j,isObject:_,isNull:function(n){return null===n},isUndefined:w,isBoolean:A,isElement:function(n){return!(!n||1!==n.nodeType)},isString:S,isNumber:O,isDate:M,isRegExp:E,isError:B,isSymbol:N,isArrayBuffer:I,isDataView:q,isArray:U,isFunction:D,isArguments:L,isFinite:function(n){return!N(n)&&d(n)&&!isNaN(parseFloat(n))},isNaN:$,isTypedArray:X,isEmpty:function(n){if(null==n)return!0;var r=Y(n);return"number"==typeof r&&(U(n)||S(n)||L(n))?0===r:0===Y(nn(n))},isMatch:rn,isEqual:function(n,r){return on(n,r)},isMap:yn,isWeakMap:dn,isSet:gn,isWeakSet:bn,keys:nn,allKeys:fn,values:mn,pairs:function(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:jn,functions:_n,methods:_n,extend:An,extendOwn:xn,assign:xn,defaults:Sn,create:function(n,r){return n=On(n),r&&xn(n,r),n},clone:Mn,tap:function(n,r){return r(n),n},get:In,has:function(n,r){for(var t=(r=Bn(r)).length,e=0;e<t;e++){var u=r[e];if(!W(n,u))return!1;n=n[u]}return!!t},mapObject:function(n,r,t){r=Pn(r,t);for(var e=nn(n),u=e.length,i={},o=0;o<u;o++){var f=e[o];i[f]=r(n[f],f,n)}return i},identity:Tn,constant:C,noop:qn,toPath:En,property:Dn,propertyOf:function(r){return null==r?qn:function(n){return In(r,n)}},matcher:kn,matches:kn,times:function(n,r,t){var e=Array(Math.max(0,n));r=Rn(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:Un,now:Wn,escape:$n,unescape:Cn,templateSettings:Kn,template:function(i,n,r){n=Sn({},n=!n&&r?r:n,tn.templateSettings);var t,r=RegExp([(n.escape||Jn).source,(n.interpolate||Jn).source,(n.evaluate||Jn).source].join("|")+"|$","g"),o=0,f="__p+='";if(i.replace(r,function(n,r,t,e,u){return f+=i.slice(o,u).replace(Hn,Qn),o=u+n.length,r?f+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":t?f+="'+\n((__t=("+t+"))==null?'':__t)+\n'":e&&(f+="';\n"+e+"\n__p+='"),n}),f+="';\n",r=n.variable){if(!Xn.test(r))throw new Error("variable is not a bare identifier: "+r)}else f="with(obj||{}){\n"+f+"}\n",r="obj";f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{t=new Function(r,"_",f)}catch(n){throw n.source=f,n}return(n=function(n){return t.call(this,n,tn)}).source="function("+r+"){\n"+f+"}",n},result:function(n,r,t){var e=(r=Bn(r)).length;if(!e)return D(t)?t.call(n):t;for(var u=0;u<e;u++){var i=null==n?void 0:n[r[u]];void 0===i&&(i=t,u=e),n=D(i)?i.call(n):i}return n},uniqueId:function(n){var r=++Yn+"";return n?n+r:r},chain:function(n){return(n=tn(n))._chain=!0,n},iteratee:Vn,partial:nr,bind:rr,bindAll:ur,memoize:function(e,u){var i=function(n){var r=i.cache,t=""+(u?u.apply(this,arguments):n);return W(r,t)||(r[t]=e.apply(this,arguments)),r[t]};return i.cache={},i},delay:ir,defer:or,throttle:function(t,e,u){var i,o,f,a,c=0;function l(){c=!1===u.leading?0:Wn(),i=null,a=t.apply(o,f),i||(o=f=null)}function n(){var n=Wn();c||!1!==u.leading||(c=n);var r=e-(n-c);return o=this,f=arguments,r<=0||e<r?(i&&(clearTimeout(i),i=null),c=n,a=t.apply(o,f),i||(o=f=null)):i||!1===u.trailing||(i=setTimeout(l,r)),a}return u=u||{},n.cancel=function(){clearTimeout(i),c=0,i=o=f=null},n},debounce:function(r,t,e){var u,i,o,f,a,c=function(){var n=Wn()-i;n<t?u=setTimeout(c,t-n):(u=null,e||(f=r.apply(a,o)),u||(o=a=null))},n=j(function(n){return a=this,o=n,i=Wn(),u||(u=setTimeout(c,t),e&&(f=r.apply(a,o))),f});return n.cancel=function(){clearTimeout(u),u=o=a=null},n},wrap:function(n,r){return nr(r,n)},negate:fr,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:ar,once:r,findKey:cr,findIndex:sr,findLastIndex:k,sortedIndex:pr,indexOf:vr,lastIndexOf:T,find:yr,detect:yr,findWhere:function(n,r){return yr(n,kn(r))},each:dr,forEach:dr,map:gr,collect:gr,reduce:f,foldl:f,inject:f,reduceRight:R,foldr:R,filter:mr,select:mr,reject:function(n,r,t){return mr(n,fr(Pn(r)),t)},every:jr,all:jr,some:_r,any:_r,contains:wr,includes:wr,include:wr,invoke:P,pluck:Ar,where:function(n,r){return mr(n,kn(r))},max:xr,min:function(n,e,r){var t,u,i=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof n[0]&&null!=n)for(var f=0,a=(n=tr(n)?n:mn(n)).length;f<a;f++)null!=(t=n[f])&&t<i&&(i=t);else e=Pn(e,r),dr(n,function(n,r,t){((u=e(n,r,t))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},shuffle:function(n){return Sr(n,1/0)},sample:Sr,sortBy:function(n,e,r){var u=0;return e=Pn(e,r),Ar(gr(n,function(n,r,t){return{value:n,index:u++,criteria:e(n,r,t)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(e<t||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index}),"value")},groupBy:c,indexBy:i,countBy:sn,partition:ln,toArray:function(n){return n?U(n)?a.call(n):S(n)?n.match(Mr):tr(n)?gr(n,Tn):mn(n):[]},size:function(n){return null==n?0:(tr(n)?n:nn(n)).length},pick:Br,omit:pn,first:Ir,head:Ir,take:Ir,initial:Nr,last:function(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[n.length-1]:Tr(n,Math.max(0,n.length-r))},rest:Tr,tail:Tr,drop:Tr,compact:function(n){return mr(n,Boolean)},flatten:function(n,r){return er(n,r,!1)},without:V,uniq:Dr,unique:Dr,union:vn,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=Y(n);e<u;e++){var i=n[e];if(!wr(r,i)){for(var o=1;o<t&&wr(arguments[o],i);o++);o===t&&r.push(i)}}return r},difference:kr,unzip:Rr,transpose:Rr,zip:Ln,object:function(n,r){for(var t={},e=0,u=Y(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},range:function(n,r,t){null==r&&(r=n||0,n=0),t=t||(r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),i=0;i<e;i++,n+=t)u[i]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(a.call(n,e,e+=r));return t},mixin:Vr,default:tn});return Ln._=Ln});
